<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="color-scheme" content="dark light">
    <meta charset="UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Widget</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: transparent;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding-top: 20px;
        }

        ::-webkit-scrollbar { display: none; }
        
        .widget-container {
            position: relative;
            width: 225px;
            height: 380px;
            /* 전체 배경: 유리 질감 */
            background: rgba(255, 255, 255, 0.45);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
            display: flex;
            flex-direction: row;
            overflow: hidden;
            color: #334155;
        }

        /* 폰트 설정: 이탤릭 제거를 위해 normal 스타일 강제 */
        .font-serif { font-family: 'Playfair Display', serif; font-style: normal; }
        .font-mono { font-family: 'Roboto Mono', monospace; font-style: normal; }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        pastel: {
                            purple: '#d8b4fe',
                            sky: '#7dd3fc',
                            yellow: '#fef08a',
                        },
                        text: {
                            main: '#475569',
                            dark: '#334155'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        const IconMusic = ({ className, color }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.8" strokeLinecap="round" strokeLinejoin="round"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>;
        const IconSun = ({ className, color }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.8" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2"/><path d="M12 21v2"/><path d="M4.22 4.22l1.42 1.42"/><path d="M18.36 18.36l1.42 1.42"/><path d="M1 12h2"/><path d="M21 12h2"/><path d="M4.22 19.78l1.42-1.42"/><path d="M18.36 5.64l1.42-1.42"/></svg>;
        const IconMoon = ({ className, color }) => <svg className={className} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="1.8" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>;

        const TimelineWidget = () => {
            const [now, setNow] = useState(new Date());

            useEffect(() => {
                const timer = setInterval(() => setNow(new Date()), 60000);
                return () => clearInterval(timer);
            }, []);

            const START_HOUR = 6;
            const TOTAL_HOURS = 18;
            
            const currentHour = now.getHours();
            const currentMin = now.getMinutes();
            
            let progress = 0;
            if (currentHour < START_HOUR) progress = 0;
            else if (currentHour >= 24) progress = 100;
            else {
                const elapsedMinutes = (currentHour - START_HOUR) * 60 + currentMin;
                progress = (elapsedMinutes / (TOTAL_HOURS * 60)) * 100;
            }

            return (
                <div className="widget-container">
                    
                    {/* 1. Time Axis (Left) */}
                    <div className="w-[36px] h-full flex flex-col relative flex-shrink-0"
                         style={{
                             background: 'rgba(255, 255, 255, 0.15)',
                             backdropFilter: 'blur(5px)',
                             borderRight: '1px solid rgba(255, 255, 255, 0.2)'
                         }}>
                        
                        {/* 구분선 (12시, 18시) */}
                        <div className="absolute top-[33.33%] w-full h-[1px] bg-white/30"></div>
                        <div className="absolute top-[66.66%] w-full h-[1px] bg-white/30"></div>

                        {/* 시간 텍스트 (흰색) */}
                        <div className="absolute top-2 w-full text-center text-[10px] font-mono text-white font-bold opacity-90">06</div>
                        <div className="absolute top-[33.33%] w-full text-center transform -translate-y-1/2 mt-[2px] text-[10px] font-mono text-white font-bold opacity-90">12</div>
                        <div className="absolute top-[66.66%] w-full text-center transform -translate-y-1/2 mt-[2px] text-[10px] font-mono text-white font-bold opacity-90">18</div>
                        
                        {/* 현재 시간 표시 바 (White Line) - 왼쪽 여백 없이 꽉 차게 */}
                        <div 
                            className="absolute w-full flex items-center z-20 transition-all duration-500"
                            style={{ top: `${progress}%` }}
                        >
                            <div className="w-full h-[2px] bg-white shadow-[0_0_4px_rgba(255,255,255,0.8)]"></div>
                        </div>
                    </div>

                    {/* 2. Content Area (Right) */}
                    <div className="flex-1 h-full flex flex-col">
                        
                        {/* MORNING (06-12) */}
                        <div className="flex-1 w-full relative p-3 flex flex-col overflow-hidden group">
                            <div className="absolute inset-0 bg-pastel-purple opacity-[0.25] group-hover:opacity-[0.35] transition-opacity"></div>
                            
                            <div className="relative z-10 flex justify-between items-start mb-2">
                                <span className="text-[11px] font-bold text-slate-500 font-serif tracking-widest not-italic">MORNING</span>
                                <IconMusic className="w-3.5 h-3.5 text-slate-500" />
                            </div>
                            
                            <div className="relative z-10 space-y-1.5">
                                <div className="flex items-start gap-2">
                                    <div className="w-1 h-1 rounded-full bg-pastel-purple mt-1.5 flex-shrink-0" style={{backgroundColor: '#b794f4'}}></div>
                                    <div className="flex flex-col">
                                        <span className="text-[11px] font-medium text-text-dark leading-tight not-italic">보컬로이드 & 환기</span>
                                        <span className="text-[10px] text-slate-500 leading-tight not-italic">산책/샤워/독서</span>
                                    </div>
                                </div>
                                <div className="flex items-center gap-1.5 bg-white/40 rounded px-1.5 py-1 w-fit border border-pastel-purple/30">
                                    <span className="text-[10px] font-bold text-slate-600 not-italic">골든타임: 한자/영어</span>
                                </div>
                            </div>
                        </div>

                        {/* AFTERNOON (12-18) */}
                        <div className="flex-1 w-full relative p-3 flex flex-col border-t border-slate-100/50 overflow-hidden group">
                            <div className="absolute inset-0 bg-pastel-sky opacity-[0.25] group-hover:opacity-[0.35] transition-opacity"></div>

                            <div className="relative z-10 flex justify-between items-start mb-2">
                                <span className="text-[11px] font-bold text-slate-500 font-serif tracking-widest not-italic">AFTERNOON</span>
                                <IconSun className="w-3.5 h-3.5 text-slate-500" />
                            </div>

                            <div className="relative z-10 space-y-1.5">
                                <div className="flex items-start gap-2">
                                    <div className="w-1 h-1 rounded-full mt-1.5 flex-shrink-0" style={{backgroundColor: '#7dd3fc'}}></div>
                                    <div className="flex flex-col">
                                        <span className="text-[11px] font-medium text-text-dark leading-tight not-italic">Rock/Metal & 저염식</span>
                                        <span className="text-[10px] text-slate-500 leading-tight not-italic">수업 준비/상담</span>
                                    </div>
                                </div>
                                {/* 15-17시 임시 구간 */}
                                <div className="w-full h-[22px] border border-dashed border-slate-300 rounded flex items-center justify-center bg-white/20">
                                    <span className="text-[10px] text-slate-400 font-medium not-italic">임시 (15-17)</span>
                                </div>
                            </div>
                        </div>

                        {/* NIGHT (18-24) */}
                        <div className="flex-1 w-full relative p-3 flex flex-col border-t border-slate-100/50 overflow-hidden group">
                            <div className="absolute inset-0 bg-pastel-yellow opacity-[0.3] group-hover:opacity-[0.4] transition-opacity"></div>

                            <div className="relative z-10 flex justify-between items-start mb-2">
                                <span className="text-[11px] font-bold text-slate-500 font-serif tracking-widest not-italic">NIGHT</span>
                                <IconMoon className="w-3.5 h-3.5 text-slate-500" />
                            </div>

                            <div className="relative z-10 space-y-1.5">
                                <div className="flex items-start gap-2">
                                    <div className="w-1 h-1 rounded-full mt-1.5 flex-shrink-0" style={{backgroundColor: '#fbbf24'}}></div>
                                    <div className="flex flex-col">
                                        <span className="text-[11px] font-medium text-text-dark leading-tight not-italic">Jazz & 주황 조명</span>
                                        <span className="text-[10px] text-slate-500 leading-tight not-italic">자기돌봄/일기</span>
                                    </div>
                                </div>
                                <div className="flex items-center gap-1.5 bg-white/40 rounded px-1.5 py-1 w-fit border border-pastel-yellow/30">
                                    <span className="text-[10px] font-bold text-slate-600 not-italic">23:00 취침</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TimelineWidget />);
    </script>
</body>
</html>
